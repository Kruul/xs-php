Стандартно роутер обрабатывает запрос как **/controller/action/param1/param2**.

Например, в запросе **/users/profile/5**:
* **users** - название контроллера;
* **profile** - название действия;
* **5** - параметр для метода действия.

Будет создан контроллер **Controller_User**, будет запущен его метод с параметром **action_profile(5)**.

### Нестандартные роуты

Стандартное поведение роутов можно изменить, используя настройки роутов, которые находятся в файле **/app/bootstrap.php** в переменной **$routes**.
Это ассоциативный массив, где ключ - регулярное выражение, а значение - строка со ссылками для замены совпадений вида **$1**.

Например, мы хотим, чтобы **/user/profile/5** был доступен по URI **/id5**. Для этого настройка роутера будет выглядеть так:
```php
$routes = [
  '/id([0-9]+)' => '/user/profile/$1'
];
```

Если вы хотите сделать отдельный раздел сайта с хранением контроллеров в отдельной поддиректории, например, админка сайта
с контроллерами в директории **/app/controllers/admin/**, но вас не устраивают адреса вида **/admin_users/view** (почему так происходит смотрите в разделе **Контроллеры**), то это можно исправить правилом:
```php
$routes = [
  '/admin/([a-z0-9_/]+)' => '/admin_$1'
];
```

Теперь URI адрес будет **/admin/users/view** и при этом запускаться будет контроллер **Controller_Admin_Users** из **/app/controllers/admin/users.php** и действие **action_view**.

Замену по ссылкам можно производить не только для отдельных частей (названия действия, параметра), но и комбинации этих частей.

### Паттерны для роутов

Если в ваших роутах используются повторяющиеся паттерны в регулярных выражениях (к примеру, паттерн **[0-9]+**, означающий числовой идентификатор), то регулярные выражения паттернов можно вынести в отдельный массив **$routes_patterns**, находящийся в файле **/app/bootstrap.php**. Это массив, где ключи - названия паттернов, а значения - части регулярного выражения, например:
```php
$routes_patterns = [
  'numId' => '[0-9]+'
];
```

После вынесения паттернов в массив **$routes_patterns** их можно использовать в массиве роутов так:
```php
$routes = [
  '/id(:numId)' => '/user/profile/$1'
];
```

Где необходимо вставить паттерн, используйте строку замены вида "(:patternName)". Важно написать в скобках и с символом двоеточия перед названием паттерна. При этом с списке паттернов не нужно обрамлять в скобки часть регулярного выражения.

Использование паттернов поможет повысить читаемость роутов.

### Использование фреймворка для сервиса в поддиректории корневой директории хоста

Может возникнуть необходимость использовании фреймворка в поддиректории, например, для админке в поддиректории **/admin**. Тогда для доступа к странице **/page/info** (контроллер **Controller_Page**, действие **action_page**) URI адрес будет **/admin/page/info**.

Для корректной работы роутера из поддиректории необходимо указать URI часть поддиректории в константу **BASE_PATH** в файле **/app/bootstrap.php**. Для примера выше необходимо указать в эту константу значение **/admin**.
```php
define('BASE_PATH', '/admin');
```

В случае работы из корневой директории эта константа должна оставаться пустой.
